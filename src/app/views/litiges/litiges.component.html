<app-page-title title="Litiges" subTitle="Mes litiges" />

<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header border-0">
        <div class="row justify-content-between">
          <div class="col-lg-6">
            <div class="row align-items-center">
              <div class="col-lg-6">
                <form class="app-search d-none d-md-block me-auto">
                  <div class="position-relative">
                    <input
                      type="search"
                      class="form-control"
                      placeholder="Recherche..."
                      autocomplete="off"
                      value=""
                    />
                    <iconify-icon
                      icon="solar:magnifer-broken"
                      class="search-widget-icon"
                    ></iconify-icon>
                  </div>
                </form>
              </div>
              <div class="col-lg-4">
                <h5 class="text-dark fw-medium mb-0">
                  {{totalItems}} <span class="text-muted"> Litiges</span>
                </h5>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="text-md-end mt-3 mt-md-0">
              <button type="button" class="btn btn-outline-primary me-1">
                <i class="ri-filter-line me-1"></i> Filters
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-xl-12">
    <div class="card">
      <div
        class="card-header d-flex justify-content-between align-items-center border-bottom"
      >
        <div>
          <h4 class="card-title">Mes litiges</h4>
        </div>
        <div ngbDropdown>
          <a ngbDropdownToggle class="btn btn-sm btn-outline-light rounded">
            This Month
          </a>
          <div ngbDropdownMenu class="dropdown-menu-end">
            <a href="javascript:void(0);" class="dropdown-item">Download</a>

            <a href="javascript:void(0);" class="dropdown-item">Export</a>

            <a href="javascript:void(0);" class="dropdown-item">Import</a>
          </div>
        </div>
      </div>

      <div class="card-body p-0">
        <div class="table-responsive">
          <table
            class="table align-middle text-nowrap table-hover table-centered mb-0"
          >
            <thead class="bg-light-subtle">
            <tr>
              <th>Date</th>
              <th>Commande</th>
              <th>type</th>
              <th>status</th>
              <th>description</th>
              <th>Preuves</th>
              <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of filteredLitigesModels; let i = index">
              <td>{{ item.submitted_at }}</td>
              <td>
                <div class="d-flex align-items-center gap-2">

                  <div>
                    <a href="javascript:void(0);" class="text-dark fw-medium fs-15">
                      {{ item.customer_name }}
                    </a>
                  </div>
                </div>
              </td>
              <td>{{ item.type }}</td>
              <td>{{ item.status }}</td>
              <td>{{ item.description }}</td>
              <td>{{ item.resolution_deadline }}</td>
              <td>
                <div class="d-flex gap-2">
                  <button
                    type="button"
                    class="btn btn-light btn-sm"
                    (click)="onView(item)"
                    title="Voir"
                  >
                    <iconify-icon icon="solar:eye-broken" class="align-middle fs-18"></iconify-icon>
                  </button>

                  <button
                    type="button"
                    class="btn btn-soft-primary btn-sm"
                    (click)="onEdit(item)"
                    title="Modifier"
                  >
                    <iconify-icon icon="solar:pen-2-broken" class="align-middle fs-18"></iconify-icon>
                  </button>

                  <button
                    type="button"
                    class="btn btn-soft-danger btn-sm"
                    (click)="onDelete(item)"
                    title="Supprimer"
                  >
                    <iconify-icon icon="solar:trash-bin-minimalistic-2-broken" class="align-middle fs-18"></iconify-icon>
                  </button>
                </div>
              </td>
            </tr>
            </tbody>


          </table>
        </div>
      </div>
      <div class="card-footer">
        <nav aria-label="Page navigation example">
          <ngb-pagination
            [collectionSize]="30"
            [collectionSize]="totalItems"
            [(page)]="currentPage"
            [pageSize]="pageSize"
            (pageChange)="onPageChange($event)"
            class="pagination justify-content-end mb-0"
          >
            <ng-template ngbPaginationPrevious>Previous</ng-template>
            <ng-template ngbPaginationNext>Next</ng-template>
          </ngb-pagination>
        </nav>
      </div>
    </div>
  </div>
</div>

